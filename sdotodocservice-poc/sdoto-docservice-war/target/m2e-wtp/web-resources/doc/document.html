<!DOCTYPE html>
<html>
<title>API Document</title>

<xmp theme="united" style="display:none;">
#SDOTO Document Service API


## HTTP | HTTPS://127.0.0.1:8088/sdoto-docservice-war/rest


API for Document Service operations



**Version** v1

[**Terms of Service**]()












# APIs


## /documentService/authenticateUser






### POST


<a id="authenticateUser">Authenticate user operation for check purpose</a>









#### Request


**Content-Type: ** application/json

##### Parameters

<table border="1">
    <tr>
        <th>Name</th>
        <th>Located in</th>
        <th>Required</th>
        <th>Description</th>
        <th>Default</th>
        <th>Schema</th>
    </tr>



<tr>
    <th>body</th>
    <td>body</td>
    <td>yes</td>
    <td>The search document filter request data</td>
    <td> - </td>

    <td>
    
    <a href="#/definitions/Credentials">Credentials</a> 
    </td>

</tr>


</table>



#### Response

**Content-Type: ** application/json


| Status Code | Reason      | Response Model |
|-------------|-------------|----------------|
| 200    | successful operation | <a href="#/definitions/AuthResponse">AuthResponse</a>|














## /documentService/changeDocumentStatus






### POST


<a id="changeDocumentStatus">With the change document status operation you can change the state of document.</a>

Possible states are CREATED, SENT, OPENED, CLOSED







#### Request


**Content-Type: ** application/json

##### Parameters

<table border="1">
    <tr>
        <th>Name</th>
        <th>Located in</th>
        <th>Required</th>
        <th>Description</th>
        <th>Default</th>
        <th>Schema</th>
    </tr>



<tr>
    <th>body</th>
    <td>body</td>
    <td>yes</td>
    <td>The change status document request data</td>
    <td> - </td>

    <td>
    
    <a href="#/definitions/ChangeDocumentStatusRequest">ChangeDocumentStatusRequest</a> 
    </td>

</tr>


</table>



#### Response

**Content-Type: ** application/json


| Status Code | Reason      | Response Model |
|-------------|-------------|----------------|
| 200    | successful operation | <a href="#/definitions/BookingDocumentDTO">BookingDocumentDTO</a>|














## /documentService/changePassword






### POST


<a id="changePassword">Enable a user to change its password and perform a logout</a>









#### Request


**Content-Type: ** application/json

##### Parameters

<table border="1">
    <tr>
        <th>Name</th>
        <th>Located in</th>
        <th>Required</th>
        <th>Description</th>
        <th>Default</th>
        <th>Schema</th>
    </tr>



<tr>
    <th>body</th>
    <td>body</td>
    <td>yes</td>
    <td>Credentials to use for changing password</td>
    <td> - </td>

    <td>
    
    <a href="#/definitions/Credentials">Credentials</a> 
    </td>

</tr>


</table>



#### Response

**Content-Type: ** application/json


| Status Code | Reason      | Response Model |
|-------------|-------------|----------------|
| 200    | successful operation | |














## /documentService/createAndSendDocument




### PUT

<a id="createAndSend">Insert a document in the repository and automatically send it to associated receivers</a>

Insert a document in the repository and automatically send it to associated receivers







#### Request


**Content-Type: ** application/json

##### Parameters

<table border="1">
    <tr>
        <th>Name</th>
        <th>Located in</th>
        <th>Required</th>
        <th>Description</th>
        <th>Default</th>
        <th>Schema</th>
    </tr>



<tr>
    <th>body</th>
    <td>body</td>
    <td>yes</td>
    <td>The insert document request data</td>
    <td> - </td>

    <td>
    
    <a href="#/definitions/InsertDocumentRequest">InsertDocumentRequest</a> 
    </td>

</tr>


</table>



#### Response

**Content-Type: ** application/json


| Status Code | Reason      | Response Model |
|-------------|-------------|----------------|
| 200    | successful operation | <a href="#/definitions/BookingDocumentDTO">BookingDocumentDTO</a>|















## /documentService/createDocument




### PUT

<a id="insertDocument">Insert a document in the repository</a>

The repository depends on the data layer type, it should be an RDBMS







#### Request


**Content-Type: ** application/json

##### Parameters

<table border="1">
    <tr>
        <th>Name</th>
        <th>Located in</th>
        <th>Required</th>
        <th>Description</th>
        <th>Default</th>
        <th>Schema</th>
    </tr>



<tr>
    <th>body</th>
    <td>body</td>
    <td>yes</td>
    <td>The insert document request data</td>
    <td> - </td>

    <td>
    
    <a href="#/definitions/InsertDocumentRequest">InsertDocumentRequest</a> 
    </td>

</tr>


</table>



#### Response

**Content-Type: ** application/json


| Status Code | Reason      | Response Model |
|-------------|-------------|----------------|
| 200    | successful operation | <a href="#/definitions/BookingDocumentDTO">BookingDocumentDTO</a>|















## /documentService/getAuthenticated


### GET

<a id="getAuthenticated">Get current user authenticated</a>









#### Request



##### Parameters






#### Response

**Content-Type: ** application/json


| Status Code | Reason      | Response Model |
|-------------|-------------|----------------|
| 200    | successful operation | <a href="#/definitions/AuthResponse">AuthResponse</a>|

















## /documentService/getDocument/{docId}


### GET

<a id="getDocumentById">Useful when you need to get document data when you know the document id</a>

The document id will never change







#### Request


**Content-Type: ** application/json

##### Parameters

<table border="1">
    <tr>
        <th>Name</th>
        <th>Located in</th>
        <th>Required</th>
        <th>Description</th>
        <th>Default</th>
        <th>Schema</th>
    </tr>



<tr>
    <th>docId</th>
    <td>path</td>
    <td>yes</td>
    <td></td>
    <td> - </td>

    
            <td>string </td>
    

</tr>


</table>



#### Response

**Content-Type: ** application/json


| Status Code | Reason      | Response Model |
|-------------|-------------|----------------|
| 200    | successful operation | <a href="#/definitions/BookingDocumentDTO">BookingDocumentDTO</a>|

















## /documentService/listDocuments






### POST


<a id="listDocuments">Using list documents you can retrieve all documents in the repository.</a>

If you need to filter the list you can post a BookingDocumentFilter json data







#### Request


**Content-Type: ** application/json

##### Parameters

<table border="1">
    <tr>
        <th>Name</th>
        <th>Located in</th>
        <th>Required</th>
        <th>Description</th>
        <th>Default</th>
        <th>Schema</th>
    </tr>



<tr>
    <th>body</th>
    <td>body</td>
    <td>yes</td>
    <td>The search document filter request data</td>
    <td> - </td>

    <td>
    
    <a href="#/definitions/BookingDocumentFilter">BookingDocumentFilter</a> 
    </td>

</tr>


</table>



#### Response

**Content-Type: ** application/json


| Status Code | Reason      | Response Model |
|-------------|-------------|----------------|
| 200    | successful operation | Array[<a href=""></a>]|














## /documentService/logout


### GET

<a id="logout">Logout current authenticated user if user not logged do nothing</a>









#### Request



##### Parameters






#### Response

**Content-Type: ** application/json


| Status Code | Reason      | Response Model |
|-------------|-------------|----------------|
| 200    | successful operation | |

















## /documentService/needToRenew/{days}


### GET

<a id="needToRenew">Test if current user need to renew password based on days passed in input</a>









#### Request



##### Parameters

<table border="1">
    <tr>
        <th>Name</th>
        <th>Located in</th>
        <th>Required</th>
        <th>Description</th>
        <th>Default</th>
        <th>Schema</th>
    </tr>



<tr>
    <th>days</th>
    <td>path</td>
    <td>yes</td>
    <td></td>
    <td> - </td>

    
            <td>integer (int32)</td>
    

</tr>


</table>



#### Response

**Content-Type: ** application/json


| Status Code | Reason      | Response Model |
|-------------|-------------|----------------|
| 200    | successful operation | |

















## /documentService/notifyDocumentByMail/{docId}/{email}


### GET

<a id="notifyDocumentByMail">Notify a just created document to receiver knowing its email</a>









#### Request


**Content-Type: ** application/json

##### Parameters

<table border="1">
    <tr>
        <th>Name</th>
        <th>Located in</th>
        <th>Required</th>
        <th>Description</th>
        <th>Default</th>
        <th>Schema</th>
    </tr>



<tr>
    <th>docId</th>
    <td>path</td>
    <td>yes</td>
    <td></td>
    <td> - </td>

    
            <td>string </td>
    

</tr>

<tr>
    <th>email</th>
    <td>path</td>
    <td>yes</td>
    <td></td>
    <td> - </td>

    
            <td>string </td>
    

</tr>


</table>



#### Response

**Content-Type: ** application/json


| Status Code | Reason      | Response Model |
|-------------|-------------|----------------|
| 200    | successful operation | <a href="#/definitions/BookingDocumentDTO">BookingDocumentDTO</a>|

















## /documentService/notifyDocumentByReference






### POST


<a id="notifyDocumentByReference">When you have to notify that a document was create you can call this operation.</a>

The addressee are derived from reference data







#### Request


**Content-Type: ** application/json

##### Parameters

<table border="1">
    <tr>
        <th>Name</th>
        <th>Located in</th>
        <th>Required</th>
        <th>Description</th>
        <th>Default</th>
        <th>Schema</th>
    </tr>



<tr>
    <th>body</th>
    <td>body</td>
    <td>yes</td>
    <td>The notify document request data</td>
    <td> - </td>

    <td>
    
    <a href="#/definitions/NotifyDocumentRequest">NotifyDocumentRequest</a> 
    </td>

</tr>


</table>



#### Response

**Content-Type: ** application/json


| Status Code | Reason      | Response Model |
|-------------|-------------|----------------|
| 200    | successful operation | <a href="#/definitions/BookingDocumentDTO">BookingDocumentDTO</a>|














## /documentService/openDocument/{docId}


### GET

<a id="openDocument">The getPdf returns a PDF document by its reference id</a>

You can know id using the DocumentServiceResource







#### Request


**Content-Type: ** application/json

##### Parameters

<table border="1">
    <tr>
        <th>Name</th>
        <th>Located in</th>
        <th>Required</th>
        <th>Description</th>
        <th>Default</th>
        <th>Schema</th>
    </tr>



<tr>
    <th>docId</th>
    <td>path</td>
    <td>yes</td>
    <td></td>
    <td> - </td>

    
            <td>string </td>
    

</tr>


</table>



#### Response

**Content-Type: ** application/pdf


| Status Code | Reason      | Response Model |
|-------------|-------------|----------------|
| 200    | successful operation | <a href="#/definitions/InputStream">InputStream</a>|

















## /documentService/test


### GET

<a id="test">Test operation for check purpose</a>









#### Request



##### Parameters






#### Response

**Content-Type: ** text/plain


| Status Code | Reason      | Response Model |
|-------------|-------------|----------------|
| 200    | successful operation | |

















## /repository/getPdf/{docId}


### GET

<a id="getPdf">The getPdf returns a PDF document by its reference id</a>

You can know id using the DocumentServiceResource







#### Request


**Content-Type: ** application/json

##### Parameters

<table border="1">
    <tr>
        <th>Name</th>
        <th>Located in</th>
        <th>Required</th>
        <th>Description</th>
        <th>Default</th>
        <th>Schema</th>
    </tr>



<tr>
    <th>docId</th>
    <td>path</td>
    <td>yes</td>
    <td></td>
    <td> - </td>

    
            <td>string </td>
    

</tr>


</table>



#### Response

**Content-Type: ** application/pdf


| Status Code | Reason      | Response Model |
|-------------|-------------|----------------|
| 200    | successful operation | <a href="#/definitions/InputStream">InputStream</a>|


















# Definitions

## <a name="/definitions/AuthResponse">AuthResponse</a>

<table border="1">
    <tr>
        <th>name</th>
        <th>type</th>
        <th>required</th>
        <th>description</th>
        <th>example</th>
    </tr>
    
        <tr>
            <td>username</td>
            <td>
                
                    
                    string
                
            </td>
            <td>optional</td>
            <td>-</td>
            <td></td>
        </tr>
    
        <tr>
            <td>authenticated</td>
            <td>
                
                    
                    boolean
                
            </td>
            <td>optional</td>
            <td>-</td>
            <td></td>
        </tr>
    
        <tr>
            <td>reason</td>
            <td>
                
                    
                    string
                
            </td>
            <td>optional</td>
            <td>-</td>
            <td></td>
        </tr>
    
        <tr>
            <td>token</td>
            <td>
                
                    
                    string
                
            </td>
            <td>optional</td>
            <td>-</td>
            <td></td>
        </tr>
    
        <tr>
            <td>details</td>
            <td>
                
                    
                    object
                
            </td>
            <td>optional</td>
            <td>-</td>
            <td></td>
        </tr>
    
</table>

## <a name="/definitions/BookingDocumentDTO">BookingDocumentDTO</a>

<table border="1">
    <tr>
        <th>name</th>
        <th>type</th>
        <th>required</th>
        <th>description</th>
        <th>example</th>
    </tr>
    
        <tr>
            <td>id</td>
            <td>
                
                    
                    string
                
            </td>
            <td>optional</td>
            <td>-</td>
            <td></td>
        </tr>
    
        <tr>
            <td>state</td>
            <td>
                
                    
                    string
                
            </td>
            <td>optional</td>
            <td>-</td>
            <td></td>
        </tr>
    
        <tr>
            <td>parking</td>
            <td>
                
                    
                    string
                
            </td>
            <td>optional</td>
            <td>-</td>
            <td></td>
        </tr>
    
        <tr>
            <td>creationDate</td>
            <td>
                
                    
                    string (date-time)
                
            </td>
            <td>optional</td>
            <td>-</td>
            <td></td>
        </tr>
    
        <tr>
            <td>openDate</td>
            <td>
                
                    
                    string (date-time)
                
            </td>
            <td>optional</td>
            <td>-</td>
            <td></td>
        </tr>
    
        <tr>
            <td>closeDate</td>
            <td>
                
                    
                    string (date-time)
                
            </td>
            <td>optional</td>
            <td>-</td>
            <td></td>
        </tr>
    
        <tr>
            <td>sentDate</td>
            <td>
                
                    
                    string (date-time)
                
            </td>
            <td>optional</td>
            <td>-</td>
            <td></td>
        </tr>
    
        <tr>
            <td>docReference</td>
            <td>
                
                    
                    string
                
            </td>
            <td>optional</td>
            <td>-</td>
            <td></td>
        </tr>
    
</table>

## <a name="/definitions/BookingDocumentFilter">BookingDocumentFilter</a>

<table border="1">
    <tr>
        <th>name</th>
        <th>type</th>
        <th>required</th>
        <th>description</th>
        <th>example</th>
    </tr>
    
        <tr>
            <td>fromDate</td>
            <td>
                
                    
                    string (date-time)
                
            </td>
            <td>optional</td>
            <td>-</td>
            <td></td>
        </tr>
    
        <tr>
            <td>toDate</td>
            <td>
                
                    
                    string (date-time)
                
            </td>
            <td>optional</td>
            <td>-</td>
            <td></td>
        </tr>
    
        <tr>
            <td>inState</td>
            <td>
                
                    
                    string
                
            </td>
            <td>optional</td>
            <td>-</td>
            <td></td>
        </tr>
    
        <tr>
            <td>currentState</td>
            <td>
                
                    
                    string
                
            </td>
            <td>optional</td>
            <td>-</td>
            <td></td>
        </tr>
    
        <tr>
            <td>excludeInCurrentState</td>
            <td>
                
                    
                    string
                
            </td>
            <td>optional</td>
            <td>-</td>
            <td></td>
        </tr>
    
        <tr>
            <td>parking</td>
            <td>
                
                    
                    string
                
            </td>
            <td>optional</td>
            <td>-</td>
            <td></td>
        </tr>
    
        <tr>
            <td>exactParkingMatch</td>
            <td>
                
                    
                    boolean
                
            </td>
            <td>optional</td>
            <td>-</td>
            <td></td>
        </tr>
    
        <tr>
            <td>docReference</td>
            <td>
                
                    
                    string
                
            </td>
            <td>optional</td>
            <td>-</td>
            <td></td>
        </tr>
    
</table>

## <a name="/definitions/ChangeDocumentStatusRequest">ChangeDocumentStatusRequest</a>

<table border="1">
    <tr>
        <th>name</th>
        <th>type</th>
        <th>required</th>
        <th>description</th>
        <th>example</th>
    </tr>
    
        <tr>
            <td>documentId</td>
            <td>
                
                    
                    string
                
            </td>
            <td>required</td>
            <td>The document id, returned when inserted or fetched</td>
            <td></td>
        </tr>
    
        <tr>
            <td>newState</td>
            <td>
                
                    
                    string
                
            </td>
            <td>required</td>
            <td>The new document state</td>
            <td></td>
        </tr>
    
</table>

## <a name="/definitions/Credentials">Credentials</a>

<table border="1">
    <tr>
        <th>name</th>
        <th>type</th>
        <th>required</th>
        <th>description</th>
        <th>example</th>
    </tr>
    
        <tr>
            <td>username</td>
            <td>
                
                    
                    string
                
            </td>
            <td>required</td>
            <td>The username</td>
            <td></td>
        </tr>
    
        <tr>
            <td>password</td>
            <td>
                
                    
                    string
                
            </td>
            <td>required</td>
            <td>password</td>
            <td></td>
        </tr>
    
</table>

## <a name="/definitions/InputStream">InputStream</a>

<table border="1">
    <tr>
        <th>name</th>
        <th>type</th>
        <th>required</th>
        <th>description</th>
        <th>example</th>
    </tr>
    
</table>

## <a name="/definitions/InsertDocumentRequest">InsertDocumentRequest</a>

<table border="1">
    <tr>
        <th>name</th>
        <th>type</th>
        <th>required</th>
        <th>description</th>
        <th>example</th>
    </tr>
    
        <tr>
            <td>parking</td>
            <td>
                
                    
                    string
                
            </td>
            <td>required</td>
            <td>The parking or department assigned to the booking</td>
            <td></td>
        </tr>
    
        <tr>
            <td>docReference</td>
            <td>
                
                    
                    string
                
            </td>
            <td>required</td>
            <td>The doc reference, usually the booking code</td>
            <td></td>
        </tr>
    
</table>

## <a name="/definitions/NotifyDocumentRequest">NotifyDocumentRequest</a>

<table border="1">
    <tr>
        <th>name</th>
        <th>type</th>
        <th>required</th>
        <th>description</th>
        <th>example</th>
    </tr>
    
        <tr>
            <td>docReference</td>
            <td>
                
                    
                    string
                
            </td>
            <td>optional</td>
            <td>A document reference if exists</td>
            <td></td>
        </tr>
    
        <tr>
            <td>receiverReference</td>
            <td>
                
                    
                    string
                
            </td>
            <td>required</td>
            <td>A receiver reference, department description or parking code</td>
            <td></td>
        </tr>
    
</table>


</xmp>

<script src="http://strapdownjs.com/v/0.2/strapdown.js"></script>
</html>