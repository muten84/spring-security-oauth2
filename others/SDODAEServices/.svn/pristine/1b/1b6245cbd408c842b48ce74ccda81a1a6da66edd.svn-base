CREATE TABLE DAE_PROG_MAN_HIST
(
   ID                          VARCHAR2 (64 BYTE) NOT NULL,
   PROG_MAN_ID				   VARCHAR2 (64 BYTE) NOT NULL,
   UTENTE_ID                   VARCHAR2 (64 BYTE) NOT NULL,
   OPERATION                   VARCHAR2 (64 BYTE) NOT NULL,
   OPERATION_DATE              DATE,
   DAE                         VARCHAR2 (64 BYTE) NOT NULL,
   INTERVALLOTRAINTERVENTI     NUMBER (9),
   DURATA                      NUMBER (9) DEFAULT 0,
   SCADENZADOPO                DATE,
   MANUTENTORE                 VARCHAR2 (64 BYTE),
   STATO                       VARCHAR2 (64 BYTE),
   NOTA                        VARCHAR2 (1024 BYTE),
   TIPOMANUTENZIONE            VARCHAR2 (256 BYTE),
   MAIL_ALERT                  VARCHAR2 (64 BYTE)
);

ALTER TABLE DAE_PROG_MAN_HIST ADD (
  CONSTRAINT PK_DAE_PROG_MAN_HIST_ID
  PRIMARY KEY
  (ID));


ALTER TABLE DAE_PROG_MAN_HIST ADD (
  CONSTRAINT FK_PROG_HIST_PROG_ID 
  FOREIGN KEY (PROGRAMMA_MANUTENZIONE_ID) 
  REFERENCES DAE_PROGRAMMA_MANUTENZIONE (ID)
  ENABLE VALIDATE,
  CONSTRAINT FK_PROG_HIST_DAE_ID 
  FOREIGN KEY (DAE) 
  REFERENCES DAE_DAE (ID)
  ENABLE VALIDATE);
