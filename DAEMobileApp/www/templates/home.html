<ion-view title="{{vm.navTitle}}">
    <md-toolbar class="bar-subheader md-tall md-primary toolbar-header">
        <section ng-if="vm.isLogged">
            <div class="row">
                <div class="col col-15 text-center col-center">
                    <i class="dae-user"></i>
                </div>
                <div class="col col-center">
                    <h1 class="name">{{vm.name}} {{vm.surname}}</h1>
                </div>
            </div>
            <div class="row">
                <div class="col col-15 col-center">
                </div>
                <div ng-click="vm.goToState('app.profile')" class="col col-center">
                    <h2>Vai al Profilo</h2>
                </div>
            </div>
        </section>
        <section ng-if="!vm.isLogged">
            <div class="row">
                <div ng-click="vm.goToState('app.login')" class="col col-15 text-center col-center">
                    <i class="dae-login"></i>
                </div>
                <div class="col col-center">
                    <h1 ng-click="vm.goToState('app.login')">Accedi</h1>
                </div>
            </div>
        </section>
        <div class="row notification">
            <div class="col col-75">
                <!--<md-switch ng-if="vm.isLogged" md-no-ink class="md-primary"-->
                           <!--ng-model="vm.isAvailable"-->
                           <!--ng-change="vm.updateAvailability(vm.isAvailable)">Notifiche attive-->
                <!--</md-switch>-->
            </div>
            <div class="col">
                <a ng-click="vm.showListBottomSheet()" class="md-button md-accent md-fab fab-toolbar-medium"
                   aria-label="Add">
                    <i class="icon ion-android-call"></i>
                </a>
            </div>
        </div>
    </md-toolbar>

    <ion-content id="dashboard-content">
        <md-list>
            <md-subheader ng-if="vm.gpsEnabled" class="md-primary">
                Accuratezza della posizione {{vm.roundedAccuracy}} m.
            </md-subheader>
            <md-subheader ng-if="!vm.gpsEnabled" class="md-primary">
                Impossibile determinare la tua posizione. Devi attivare il GPS
            </md-subheader>
            <md-divider class="green-divider"></md-divider>
            <md-list-item  id="divToBlink" ng-click="vm.goToEvent()" class="md-2-line">
                <div class="md-list-item-text">
                    <h2>{{vm.alertText}}</h2>
                </div>
                <div class="alertImg"></div>
            </md-list-item>
            <md-divider class="green-divider"></md-divider>
            <md-divider class="green-divider"></md-divider>
            <md-list-item md-no-focus class="md-2-line" ng-click="vm.goToDae('app.daeList')">
                <div class="md-list-item-text">
                    <h2 class="md-primary-color">DAE</h2>
                </div>
                <img src="img/ico_dx_1.png"/>
            </md-list-item>
            <md-divider class="green-divider"></md-divider>
            <md-divider class="green-divider"></md-divider>
            <md-list-item md-no-focus class="md-2-line" ng-click="vm.openExternalLink(config.externalLink.GUIDE)">
                <div class="md-list-item-text">
                    <h2 class="md-primary-color">Guida</h2>
                </div>
                <img src="img/ico_dx_2.png"/>
            </md-list-item>
            <md-divider class="green-divider"></md-divider>
            <md-divider class="green-divider"></md-divider>
            <md-list-item md-no-focus class="md-2-line" ng-click="vm.openExternalLink(config.externalLink.DOCS)">
                <div class="md-list-item-text">
                    <h2 class="md-primary-color">Documenti</h2>
                </div>
                <img src="img/ico_dx_3.png"/>
            </md-list-item>
            <md-divider class="green-divider"></md-divider>

        </md-list>
    </ion-content>
</ion-view>
